var vm;document.ready=function(){var t=2,e=[{name:"层级",id:2},{name:"整洁度",id:3},{name:"白度",id:4},{name:"挺度",id:5},{name:"撕裂度",id:6},{name:"耐折度",id:7},{name:"干拉力",id:8},{name:"耐破度",id:9},{name:"荧光亮度",id:10},{name:"W信号",id:11},{name:"SM信号",id:12}];vm=new Vue({el:"#panel",data:{xAxis:{name:"观测指标",options:e},legendList:{name:"数据序列",options:[{name:"所有数据",id:0},{name:"地区",id:1},{name:"券别",id:2},{name:"层级",id:3}]},legendData:["所有数据"],typeID:3,xID:3,yID:4,chart:""},watch:{xID:function(){this.updateChart()},typeID:function(){this.updateChart()}},methods:{getData:function(e){var a=[],n=[],i=[],d=this;if(0===d.typeID)this.legendData=[],n=data.map(function(a){return[a[d.xID],a[e+t]]}),i=[{xAxisIndex:e,yAxisIndex:e,type:"scatter",data:n}];else{data.forEach(function(t){a.push(t[d.typeID-1])}),a=_.uniq(a),this.legendData=a,a.forEach(function(t){n[t]=[]}),data.forEach(function(a){n[a[d.typeID-1]].push([a[d.xID],a[e+t]])});for(var o in n)i.push({name:o,type:"scatter",xAxisIndex:e,yAxisIndex:e,data:n[o]})}return i},getAxisData:function(t,e,a){return{name:t,scale:!0,gridIndex:a,splitLine:{show:!1},axisLine:{lineStyle:{color:"#bbb",width:1}},axisLabel:{textStyle:{color:"#222"}},nameTextStyle:{fontSize:16,color:"#555"}}},updateChart:function(){for(var a=[],n=[],i=[],d=[],o=e.length,s=0;s<o;s++){var r=s%3,c=Math.floor(s/3);n.push({x:32*r+5+"%",y:24*c+8+"%",height:"20%",width:"24%",containLabel:!0});var h=this.getAxisData(e[this.xID-t].name,2==c,s),x=this.getAxisData(e[s].name,0===r,s);2==this.xID&&(h.type="category",h.data=["A类","B类","C类","D类"]),i.push(h),d.push(x);var f=this.getData(s);f.forEach(function(t){a.push(t)})}d[0].type="category",d[0].data=["A类","B类","C类","D类"];var l={title:{text:"流通人民币整洁度调查",subtext:"抽样调查来自成都市区、资阳市区、资阳地区流通人民币数据",left:"center",textStyle:{fontSize:25,color:"#444",fontWeight:100},subtextStyle:{fontSize:15,color:"#777",fontWeight:100}},color:["#61A5E8","#7ECF51","#E16757","#9570E5","#605FF0","#85ca36","#1c9925","#0d8b5f","#0f9cd3","#2f7e9b","#2f677d","#9b7fed","#7453d6","#3b1d98","#27abb1","#017377","#015f63","#b86868","#5669b7","#e5aab4","#60b65f","#98d2b2","#c9c8bc","#45c3dc","#e17979","#5baa5a","#eaccc2","#ffaa74"],grid:n,tooltip:{trigger:"axis",axisPointer:{show:!0,type:"cross",lineStyle:{type:"dashed",width:1}},show:!0},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},restore:{},saveAsImage:{}},left:"left"},legend:{data:this.legendData,x2:20,y:35},xAxis:i,yAxis:d,series:a};this.chart.clear(),this.chart.setOption(l)}},mounted:function(){this.chart=echarts.init(document.getElementById("chart")),this.updateChart()}})}(),window.addEventListener("resize",function(){vm.chart.resize()},!1);