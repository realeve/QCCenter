var sarchBox=function(){function e(){$(".search-form .icon-magnifier").unbind("click"),$(".search-form").unbind("keydown")}var r=function(){function e(){if($(".search-form").hasClass("open")){var e=$("[name=query]").val().toUpperCase(),r=judgeSearchType(e),n="./#"+e;switch(r){case config.search.REEL:0===location.hash.indexOf("/search/paper")?(location.hash=e,$(".search-form .submit").attr("href","#"+e)):window.location.href=n;break;default:bsTips("暂时只支持轴号查询，请确认输入格式")}}}$(".search-form .icon-magnifier").on("click",function(){e()}),$(".search-form").on("keydown",function(r){13===r.keyCode&&e()})},n=function(){var e,r=document.getElementById("demo");r&&(e=CodeMirror.fromTextArea(r,{lineNumbers:!0,matchBrackets:!0,theme:"material"})),r=document.getElementById("json"),r&&(e=CodeMirror.fromTextArea(r,{lineNumbers:!0,matchBrackets:!0,theme:"material"}))};return{init:function(){e(),r(),n()}}}();jQuery(document).ready(function(){sarchBox.init()});